<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <th:block th:replace="~{fragments/layout :: common_head}"></th:block>
  <title>SwimColor - 홈</title>
</head>
<body>

<div th:replace="~{fragments/layout :: common_header}"></div>

<main class="main-container" role="main">
  <section class="hero">
    <div class="hero-content">
      <h1>당신의 수영복에 완벽한 수모를 찾아보세요</h1>
      <p>수영복과 수모의 완벽한 매칭으로 스타일을 완성하세요</p>
      <button class="cta-button primary" onclick="nav.goToSwimsuits()">지금 시작하기</button>
    </div>
  </section>

  <section class="service-intro">
    <h2>우리의 서비스</h2>

    <!-- features-grid를 가로 스크롤 가능 wrapper로 감쌈 (요청: 항상 3열 유지) -->
    <div class="features-wrapper">
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">🎯</div>
          <h3>지능형 컬러 스캐닝</h3>
          <p>YOLO 딥러닝 모델이 수영복의 패턴과 색상을 분석하여, 보이지 않는 미세한 톤까지 정밀하게 읽어냅니다.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">🎨</div>
          <h3>CIE LAB 기반 최적 매칭</h3>
          <p>인간의 눈이 느끼는 색 차이를 계산하는 과학적인 알고리즘으로, 내 수영복에 가장 조화로운 '찰떡 수모'를 찾아드려요.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">🏊</div>
          <h3>함께 만드는 수영 라이프</h3>
          <p>현재 모델은 열정적인 수영인들의 데이터를 학습하며 성장 중입니다. 앞으로 브랜드별 추천과 영상 가이드로 찾아뵐게요!</p>
        </div>
      </div>
    </div>
  </section>

  <section class="popular-products">
    <h2>인기있는 수영복</h2>
    <div class="products-preview-grid">
      <div class="product-preview-card" th:each="product : ${products}" th:onclick="nav.goToSwimsuitDetail([[${product.id}]])">
        <img th:src="${product.imageUrl}" th:alt="${product.name}">

        <div class="product-preview-info">
          <p th:text="${product.id}" hidden>id</p>
          <p th:text="${product.brand}">수영복 브랜드</p>
          <p th:text="${product.name}">수영복 이름</p>
          <p th:text="|${#numbers.formatInteger(product.price, 3, 'COMMA')}원|">0원</p>
        </div>
      </div>
    </div>
    <div class="all-products-cta">
      <button class="cta-button secondary" onclick="nav.goToSwimsuits()">
        <span>모든 수영복 보기</span>
        <i class="bi bi-arrow-right"></i> </button>
    </div>
  </section>
</main>

<div th:replace="~{fragments/layout :: common_footer}"></div>

</body>
</html>